<clr-main-container>
    <clr-header class="header header-7">
        <div class="branding">
            <a routerLink="/" routerLinkActive="active" class="nav-link">
                <img src="favicon.png" alt="ToolForge Logo" style="width: 32px; height: 32px;">
                <span class="title">ToolForge</span>
            </a>
        </div>
        <div class="header-actions" style="display: flex; align-items: center;">
            <cds-icon shape="sun" class="sun-icon margin-right"></cds-icon>
            <input type="checkbox" id="theme-toggle" (change)="toggleTheme($event)" clrToggle checked>
            <cds-icon shape="moon" class="moon-icon margin-right"></cds-icon>
            <a class="nav-link nav-text" *ngIf="!currentUser && isWindowWidthGreaterThan992()" routerLink="/login" routerLinkActive="active">Login</a>
            <clr-dropdown *ngIf="currentUser">
                <button class="nav-text" clrDropdownTrigger aria-label="open user profile">
                    <cds-icon shape="user"></cds-icon>
                    {{ userFirstName }}
                    <cds-icon shape="angle" direction="down"></cds-icon>
                </button>
                <clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">
                    <a (click)="logout()" clrDropdownItem>Log out</a>
                </clr-dropdown-menu>
            </clr-dropdown>
        </div>
    </clr-header>
    <div class="content-container">
        <clr-vertical-nav [clr-nav-level]="2" [clrVerticalNavCollapsible]=isNavCollapsed
            [clrVerticalNavCollapsed]=isNavCollapsed class="nav-trigger--bottom"
            (mouseenter)="isNavCollapsed = isWindowWidthGreaterThan992() ? false : isNavCollapsed"
            (mouseleave)="isNavCollapsed = isWindowWidthGreaterThan992() ? true : isNavCollapsed">
            <a clrVerticalNavLink routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                <cds-icon clrVerticalNavIcon shape="home"></cds-icon>
                Home
            </a>
            <div class="nav-divider"></div>
            <a clrVerticalNavLink routerLink="/ai-chat" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="chat-bubble"></cds-icon>
                Converser AI
            </a>
            <a clrVerticalNavLink routerLink="/hash-generator" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="hashtag"></cds-icon>
                Hashers
            </a>
            <a clrVerticalNavLink routerLink="/formatter" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="form"></cds-icon>
                Formatters
            </a>
            <a clrVerticalNavLink routerLink="/encoder-decoder" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="nvme"></cds-icon>
                Encoders & Decoders
            </a>
            <a clrVerticalNavLink routerLink="/code-translator" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="language"></cds-icon>
                Translators
            </a>
            <div class="dropdown-divider" role="separator" aria-hidden="true"></div>
            <a clrVerticalNavLink routerLink="/api-tester" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="bolt"></cds-icon>
                API Tester
            </a>
            <div class="nav-divider" *ngIf="!isWindowWidthGreaterThan992()"></div>
            <a clrVerticalNavLink *ngIf="!currentUser && !isWindowWidthGreaterThan992()" routerLink="/login" routerLinkActive="active">
                <cds-icon clrVerticalNavIcon shape="user"></cds-icon>
                Login
            </a>
            <a clrVerticalNavLink *ngIf="currentUser && !isWindowWidthGreaterThan992()" (click)="logout()">
                <cds-icon clrVerticalNavIcon shape="logout"></cds-icon>
                Logout
            </a>
        </clr-vertical-nav>
        <div class="content-container">
            <div class="content-area">
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
</clr-main-container>